<!doctype html>
<!-- 
	Gradient Ribbons With Media & Clock
	Copyright (c) 2025 Berk Ege (brkeejp) All rights reserved.
	Contact Information: brkee.jp@gmail.com
	Contributed to Lively Wallpaper under MIT License.
-->
<html lang="en">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width,initial-scale=1" />
	<title>Gradient Ribbons With Media & Clock</title>
	<script src="js/language.js"></script>
	<script src="js/information.js" defer></script>
	<script src="js/animation.js" defer></script>
	<style>
		:root {
			font-size: 16px;
		}

		* {
			margin: 0;
			padding: 0;
			box-sizing: border-box;
			user-select: none;
		}

		html,
		body {
			height: 100%;
			width: 100%;
			font-family: system-ui, sans-serif;
			overflow: hidden;
			color: #fff;
			display: flex;
			justify-content: center;
			align-items: center;
			background: #000;
		}

		main {
			position: absolute;
			width: 400px;
			height: auto;

			flex-direction: column;
			justify-content: center;
			text-align: center;

			z-index: 5;
			padding: 2rem 3rem;
			border-radius: 1.5rem;
			backdrop-filter: blur(0.75rem) saturate(180%);
			background: linear-gradient(135deg, rgba(0, 0, 20, 0.6), rgba(10, 0, 50, 0.4));
			box-shadow: 0 0.75rem 2.5rem rgba(0, 0, 0, 0.8);
			min-width: 22.5rem;
			max-width: 47.5rem;
			border: 0.125rem solid rgba(255, 255, 255, 0.1);
			overflow: hidden;
			backdrop-filter: url('#glassMorphBetter');
		}

		main>div {
			margin-top: 1rem;
		}
		#clock {
			display: flex;
			flex-direction: column;
			justify-content: center;
			align-items: center;
		}
		#time {
			font-size: 4.5rem;
			font-weight: 700;
			text-shadow: 0 0 1.25rem rgba(255, 255, 255, 0.5)
		}

		#date {
			font-size: 1.25rem;
			opacity: 0.95;
			text-shadow: 0 0 0.625rem rgba(0, 0, 0, 0.5);
		}
		#media {
			display: none;
			flex-direction: column;
			justify-content: center;
			align-items: center;
			
			padding: 0.5rem;
			border-radius: 1rem;

			background: rgba(0, 0, 0, 0.5);
			box-shadow: 0 0.5rem 1.25rem rgba(0, 0, 0, 0.6);
			
			transition: transform ease 333ms;
		}
		#media:hover {
			transform: scale(1.05);
		}
		#weather {
			display: none;
			flex-direction: row;
			justify-content: center;
			align-items: center;
			
			padding: 0.5rem;
			border-radius: 1rem;

			background: rgba(0, 0, 0, 0.5);
			box-shadow: 0 0.5rem 1.25rem rgba(0, 0, 0, 0.6);

			transition: transform ease 333ms;
		}
		#weather:hover {
			transform: scale(1.05);
		}
		#weather > div {
			display: flex;
			flex-direction: column;
			justify-content: center;
			align-items: center;

		}

		#weather > img,
		#media > img {
			width: 4rem;
			height: 4rem;
			border-radius: 0.5rem;
		}

		.small {
			font-size: 0.875rem;
			opacity: 0.75;
			margin-top: 0.375rem;
		}

		#bgcanvas {
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			z-index: 0;
		}

		p#debug {
			margin-top: 1rem;
			font-size: 0.7rem;
			color: #aaa4;
		}

		.marquee {
			width: 100%;
			overflow: hidden;
			white-space: nowrap;
			position: relative;
		}

		.marquee p.animate {
			display: inline-block;
			animation: slide 12s linear infinite;
		}

		@keyframes slide {
			30% {
				transform: translateX(0%);
			}

			69.999% {
				transform: translateX(-100%);
			}

			70% {
				transform: translateX(90%);
			}

			100% {
				transform: translateX(0%);
			}
		}
	</style>
</head>

<body>
	<svg xmlns="http://www.w3.org/2000/svg">
		<filter id="glassMorphBetter" x="-0.5" y="-0.5" width="2" height="2">

			<!-- 1. Blur background -->
			<feGaussianBlur in="SourceGraphic" stdDeviation="10" result="bg-blur" />

			<!-- 2. Edge mask for refraction -->
			<feGaussianBlur in="SourceAlpha" stdDeviation="2.5" result="alpha-soft" />
			<feColorMatrix in="alpha-soft" type="matrix" values="0 0 0 0 0
            0 0 0 0 0
            0 0 0 0 0
            0 0 0 6 -3" result="edge-mask" />

			<!-- 3. Refracted background -->
			<feDisplacementMap in="bg-blur" in2="edge-mask" scale="10" xChannelSelector="A" yChannelSelector="A"
				result="bg-refracted" />

			<!-- 4. Clip to shape -->
			<feComposite in="bg-refracted" in2="SourceAlpha" operator="in" result="glass-bg" />

			<!-- 5. Tint -->
			<feFlood flood-color="white" flood-opacity="1" result="tint" />
			<feComposite in="tint" in2="SourceAlpha" operator="in" result="tint-cut" />
			<feBlend in="glass-bg" in2="tint-cut" mode="normal" result="glass-base" />

			<!-- 6. Specular highlight -->
			<feGaussianBlur in="SourceAlpha" stdDeviation="1.5" result="alpha-light" />
			<feSpecularLighting in="alpha-light" surfaceScale="6" specularConstant="0.6" specularExponent="24"
				lighting-color="#ffffff" result="spec">
				<fePointLight x="-80" y="-120" z="200" />
			</feSpecularLighting>
			<feComposite in="spec" in2="SourceAlpha" operator="in" result="spec-cut" />

			<!-- 7. IMPERFECTION NOISE -->
			<feTurbulence type="fractalNoise" baseFrequency="0.6 1.2" numOctaves="2" seed="4" result="noise" />

			<feGaussianBlur in="noise" stdDeviation="0.6" result="noise-blur" />

			<!-- Micro displacement applied to completed glass -->
			<feDisplacementMap in="glass-base" in2="noise-blur" scale="20" xChannelSelector="R" yChannelSelector="G"
				result="glass-imperfect" />

			<!-- 8. Final combination with highlight -->
			<feBlend in="glass-imperfect" in2="spec-cut" mode="screen" />

		</filter>
	</svg>

	<canvas id="bgcanvas"></canvas>

	<main id="informationCenter" class="center" role="status">
		<div id="clock">
			<div id="time">Loading time...</div>
			<div id="date">Loading date...</div>
		</div>
		<div id="weather">
			<img id="weatherIcon" src="" alt="Weather Icon" />
			<div>
				<div id="weatherText">Loading weatherâ€¦</div>
				<div id="weatherDetails" class="small"></div>
			</div>
		</div>
		<div id="media">
			<img id="mediaThumb" src="" alt="Media Thumbnail" />
			<div id="mediaTitle" class="marquee">
				<p>No media</p>
			</div>
			<div id="mediaArtist" class="small marquee">
				<p>No media</p>
			</div>
		</div>
		<p id="debug"></p>
	</main>
</body>

</html>